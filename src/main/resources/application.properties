# Server Configuration
server.port=8080

# =============================================================================
# Silence Detection Configuration
# =============================================================================

# Base RMS volume threshold for detecting silence (lower = more sensitive)
apnea.silence.checker.threshold=0.00001

# Hysteresis multiplier: exit threshold = base threshold * this value
# Higher values prevent rapid state toggling (flutter) on borderline signals
apnea.silence.checker.hysteresis.multiplier=5.0

# Number of buffers to average for smoothing (reduces noise sensitivity)
apnea.silence.checker.smoothing.window=5

# Duration (seconds) of initial audio to use for noise floor calibration
apnea.silence.checker.calibration.duration=2.0

# Calibration multiplier: adaptive threshold = noise floor RMS * this value
# Higher values make detection less sensitive to background noise
apnea.silence.checker.calibration.multiplier=2.0

# =============================================================================
# Apnea Classification Configuration (Severity Gradation)
# =============================================================================

# Pauses >= this threshold are classified as HYPOPNEA (reduced airflow)
apnea.classification.hypopnea.threshold=3.0

# Pauses >= this threshold are classified as MILD_APNEA
apnea.classification.mild.threshold=10.0

# Pauses >= this threshold are classified as MODERATE_APNEA
apnea.classification.moderate.threshold=20.0

# Pauses >= this threshold are classified as SEVERE_APNEA
apnea.classification.severe.threshold=30.0

# =============================================================================
# Logging Configuration
# =============================================================================
logging.level.com.jonabai.projects.apnea=INFO

# =============================================================================
# File Upload Configuration
# =============================================================================
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB
